(()=>{function T(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;let r=document.implementation.createHTMLDocument(),n=r.createElement("base"),i=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(i),t&&(n.href=t),i.href=e,i.href}var k=(()=>{let e=0,t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function f(e){let t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}function b(e,t){let n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function J(e){let t=b(e,"border-left-width"),r=b(e,"border-right-width");return e.clientWidth+t+r}function K(e){let t=b(e,"border-top-width"),r=b(e,"border-bottom-width");return e.clientHeight+t+r}function E(e,t={}){let r=t.width||J(e),n=t.height||K(e);return{width:r,height:n}}function $(){let e,t;try{t=process}catch{}let r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}var u=16384;function A(e){(e.width>u||e.height>u)&&(e.width>u&&e.height>u?e.width>e.height?(e.height*=u/e.width,e.width=u):(e.width*=u/e.height,e.height=u):e.width>u?(e.height*=u/e.width,e.width=u):(e.width*=u/e.height,e.height=u))}function g(e){return new Promise((t,r)=>{let n=new Image;n.decode=()=>t(n),n.onload=()=>t(n),n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function Q(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function D(e,t,r){let n="http://www.w3.org/2000/svg",i=document.createElementNS(n,"svg"),o=document.createElementNS(n,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${r}`),i.setAttribute("viewBox",`0 0 ${t} ${r}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(e),Q(i)}var l=(e,t)=>{if(e instanceof t)return!0;let r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||l(r,t)};function Y(e){let t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Z(e){return f(e).map(t=>{let r=e.getPropertyValue(t),n=e.getPropertyPriority(t);return`${t}: ${r}${n?" !important":""};`}).join(" ")}function N(e,t,r){let n=`.${e}:${t}`,i=r.cssText?Y(r):Z(r);return document.createTextNode(`${n}{${i}}`)}function U(e,t,r){let n=window.getComputedStyle(e,r),i=n.getPropertyValue("content");if(i===""||i==="none")return;let o=k();try{t.className=`${t.className} ${o}`}catch{return}let s=document.createElement("style");s.appendChild(N(o,r,n)),t.appendChild(s)}function F(e,t){U(e,t,":before"),U(e,t,":after")}var M="application/font-woff",H="image/jpeg",ee={woff:M,woff2:M,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:H,jpeg:H,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function te(e){let t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function d(e){let t=te(e).toLowerCase();return ee[t]||""}function ne(e){return e.split(/,/)[1]}function y(e){return e.search(/^(data:)/)!==-1}function C(e,t){return`data:${t};base64,${e}`}async function v(e,t,r){let n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);let i=await n.blob();return new Promise((o,s)=>{let a=new FileReader;a.onerror=s,a.onloadend=()=>{try{o(r({res:n,result:a.result}))}catch(c){s(c)}},a.readAsDataURL(i)})}var L={};function re(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function p(e,t,r){let n=re(e,t,r.includeQueryParams);if(L[n]!=null)return L[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{let o=await v(e,r.fetchRequestInit,({res:s,result:a})=>(t||(t=s.headers.get("Content-Type")||""),ne(a)));i=C(o,t)}catch(o){i=r.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;o&&(s=typeof o=="string"?o:o.message),s&&console.warn(s)}return L[n]=i,i}async function ie(e){let t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):g(t)}async function oe(e,t){if(e.currentSrc){let o=document.createElement("canvas"),s=o.getContext("2d");o.width=e.clientWidth,o.height=e.clientHeight,s?.drawImage(e,0,0,o.width,o.height);let a=o.toDataURL();return g(a)}let r=e.poster,n=d(r),i=await p(r,n,t);return g(i)}async function se(e){var t;try{if(!((t=e?.contentDocument)===null||t===void 0)&&t.body)return await w(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function ae(e,t){return l(e,HTMLCanvasElement)?ie(e):l(e,HTMLVideoElement)?oe(e,t):l(e,HTMLIFrameElement)?se(e):e.cloneNode(!1)}var ce=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function le(e,t,r){var n,i;let o=[];return ce(e)&&e.assignedNodes?o=f(e.assignedNodes()):l(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?o=f(e.contentDocument.body.childNodes):o=f(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),o.length===0||l(e,HTMLVideoElement)||await o.reduce((s,a)=>s.then(()=>w(a,r)).then(c=>{c&&t.appendChild(c)}),Promise.resolve()),t}function ue(e,t){let r=t.style;if(!r)return;let n=window.getComputedStyle(e);n.cssText?(r.cssText=n.cssText,r.transformOrigin=n.transformOrigin):f(n).forEach(i=>{let o=n.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),l(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),r.setProperty(i,o,n.getPropertyPriority(i))})}function fe(e,t){l(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),l(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function me(e,t){if(l(e,HTMLSelectElement)){let r=t,n=Array.from(r.children).find(i=>e.value===i.getAttribute("value"));n&&n.setAttribute("selected","")}}function he(e,t){return l(t,Element)&&(ue(e,t),F(e,t),fe(e,t),me(e,t)),t}async function ge(e,t){let r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;let n={};for(let o=0;o<r.length;o++){let a=r[o].getAttribute("xlink:href");if(a){let c=e.querySelector(a),h=document.querySelector(a);!c&&h&&!n[a]&&(n[a]=await w(h,t,!0))}}let i=Object.values(n);if(i.length){let o="http://www.w3.org/1999/xhtml",s=document.createElementNS(o,"svg");s.setAttribute("xmlns",o),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";let a=document.createElementNS(o,"defs");s.appendChild(a);for(let c=0;c<i.length;c++)a.appendChild(i[c]);e.appendChild(s)}return e}async function w(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>ae(n,t)).then(n=>le(e,n,t)).then(n=>he(e,n)).then(n=>ge(n,t))}var O=/url\((['"]?)([^'"]+?)\1\)/g,de=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,pe=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ye(e){let t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function we(e){let t=[];return e.replace(O,(r,n,i)=>(t.push(i),r)),t.filter(r=>!y(r))}async function be(e,t,r,n,i){try{let o=r?T(t,r):t,s=d(t),a;if(i){let c=await i(o);a=C(c,s)}else a=await p(o,s,n);return e.replace(ye(t),`$1${a}$3`)}catch{}return e}function xe(e,{preferredFontFormat:t}){return t?e.replace(pe,r=>{for(;;){let[n,,i]=de.exec(r)||[];if(!i)return"";if(i===t)return`src: ${n};`}}):e}function I(e){return e.search(O)!==-1}async function x(e,t,r){if(!I(e))return e;let n=xe(e,r);return we(n).reduce((o,s)=>o.then(a=>be(a,s,t,r)),Promise.resolve(n))}async function S(e,t,r){var n;let i=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(i){let o=await x(i,null,r);return t.style.setProperty(e,o,t.style.getPropertyPriority(e)),!0}return!1}async function Se(e,t){await S("background",e,t)||await S("background-image",e,t),await S("mask",e,t)||await S("mask-image",e,t)}async function Re(e,t){let r=l(e,HTMLImageElement);if(!(r&&!y(e.src))&&!(l(e,SVGImageElement)&&!y(e.href.baseVal)))return;let n=r?e.src:e.href.baseVal,i=await p(n,d(n),t);await new Promise((o,s)=>{e.onload=o,e.onerror=s;let a=e;a.decode&&(a.decode=o),a.loading==="lazy"&&(a.loading="eager"),r?(e.srcset="",e.src=i):e.href.baseVal=i})}async function Ee(e,t){let n=f(e.childNodes).map(i=>P(i,t));await Promise.all(n).then(()=>e)}async function P(e,t){l(e,Element)&&(await Se(e,t),await Re(e,t),await Ee(e,t))}function B(e,t){let{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);let n=t.style;return n!=null&&Object.keys(n).forEach(i=>{r[i]=n[i]}),e}var V={};async function q(e){let t=V[e];if(t!=null)return t;let n=await(await fetch(e)).text();return t={url:e,cssText:n},V[e]=t,t}async function W(e,t){let r=e.cssText,n=/url\(["']?([^"')]+)["']?\)/g,o=(r.match(/url\([^)]+\)/g)||[]).map(async s=>{let a=s.replace(n,"$1");return a.startsWith("https://")||(a=new URL(a,e.url).href),v(a,t.fetchRequestInit,({result:c})=>(r=r.replace(s,`url(${c})`),[s,c]))});return Promise.all(o).then(()=>r)}function _(e){if(e==null)return[];let t=[],r=/(\/\*[\s\S]*?\*\/)/gi,n=e.replace(r,""),i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){let c=i.exec(n);if(c===null)break;t.push(c[0])}n=n.replace(i,"");let o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",a=new RegExp(s,"gi");for(;;){let c=o.exec(n);if(c===null){if(c=a.exec(n),c===null)break;o.lastIndex=a.lastIndex}else a.lastIndex=o.lastIndex;t.push(c[0])}return t}async function Le(e,t){let r=[],n=[];return e.forEach(i=>{if("cssRules"in i)try{f(i.cssRules||[]).forEach((o,s)=>{if(o.type===CSSRule.IMPORT_RULE){let a=s+1,c=o.href,h=q(c).then(m=>W(m,t)).then(m=>_(m).forEach(R=>{try{i.insertRule(R,R.startsWith("@import")?a+=1:i.cssRules.length)}catch(X){console.error("Error inserting rule from remote css",{rule:R,error:X})}})).catch(m=>{console.error("Error loading remote css",m.toString())});n.push(h)}})}catch(o){let s=e.find(a=>a.href==null)||document.styleSheets[0];i.href!=null&&n.push(q(i.href).then(a=>W(a,t)).then(a=>_(a).forEach(c=>{s.insertRule(c,i.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a)})),console.error("Error inlining remote css file",o)}}),Promise.all(n).then(()=>(e.forEach(i=>{if("cssRules"in i)try{f(i.cssRules||[]).forEach(o=>{r.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${i.href}`,o)}}),r))}function Ce(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>I(t.style.getPropertyValue("src")))}async function ve(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");let r=f(e.ownerDocument.styleSheets),n=await Le(r,t);return Ce(n)}async function j(e,t){let r=await ve(e,t);return(await Promise.all(r.map(i=>{let o=i.parentStyleSheet?i.parentStyleSheet.href:null;return x(i.cssText,o,t)}))).join(`
`)}async function z(e,t){let r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await j(e,t);if(r){let n=document.createElement("style"),i=document.createTextNode(r);n.appendChild(i),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function Ie(e,t={}){let{width:r,height:n}=E(e,t),i=await w(e,t,!0);return await z(i,t),await P(i,t),B(i,t),await D(i,r,n)}async function Pe(e,t={}){let{width:r,height:n}=E(e,t),i=await Ie(e,t),o=await g(i),s=document.createElement("canvas"),a=s.getContext("2d"),c=t.pixelRatio||$(),h=t.canvasWidth||r,m=t.canvasHeight||n;return s.width=h*c,s.height=m*c,t.skipAutoScale||A(s),s.style.width=`${h}`,s.style.height=`${m}`,t.backgroundColor&&(a.fillStyle=t.backgroundColor,a.fillRect(0,0,s.width,s.height)),a.drawImage(o,0,0,s.width,s.height),s}async function G(e,t={}){return(await Pe(e,t)).toDataURL()}var ke=document.querySelector("main");document.querySelector("#articles").addEventListener("click",()=>{console.log("ok"),ke.innerHTML=`  <h1>Bienvenu</h1>
   
    <p>Bonjour, bla bla bla</p>
    <div class="card">
        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
            industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and
            scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap
            into
            electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the
            release of
            Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like
            Aldus PageMaker including versions of Lorem Ipsum.</p>

    </div>
    <div class="card">
        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
            industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and
            scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap
            into
            electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the
            release of
            Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like
            Aldus PageMaker including versions of Lorem Ipsum.</p>
      
    </div>
    <div class="card">
        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
            industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and
            scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap
            into
            electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the
            release of
            Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like
            Aldus PageMaker including versions of Lorem Ipsum.</p>
       
    </div>
`});function $e(e){for(var t=atob(e.split(",")[1]),r=new ArrayBuffer(t.length),n=new Uint8Array(r),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return new Blob([r],{type:"image/png"})}var Ae=document.querySelector("html");G(Ae).then(function(e){var t=new Image;t.src=e;var r=$e(e);let n=URL.createObjectURL(r);document.body.appendChild(t);let i=document.createElement("a");i.href=n,i.download="test.png",i.click()}).catch(function(e){console.error("oops, something went wrong!",e)});})();
